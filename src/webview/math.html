<div id="math-tab" class="tab-content">
   <h3>Commandes</h3>

   <!-- Bloc 1 : Op√©rateurs math√©matiques (gris) -->
   <div class="button-group">
      <button class="math-button secondary" onclick="sendCommand('sum')">‚àë</button>
      <button class="math-button secondary" onclick="sendCommand('prod')">‚àè</button>
      <button class="math-button secondary" onclick="sendCommand('int')">‚à´</button>
      <button class="math-button secondary" onclick="sendCommand('lim')">lim</button>
   </div>

   <div class="button-group">
      <button class="math-button secondary" onclick="sendCommand('sup')">sup</button>
      <button class="math-button secondary" onclick="sendCommand('inf')">inf</button>
      <button class="math-button secondary" onclick="sendCommand('max')">max</button>
      <button class="math-button secondary" onclick="sendCommand('min')">min</button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 2 : Fractions, exposant, indice (bleu) -->
   <div class="button-group">
      <button class="math-button" 
              onclick="sendCommand('frac')" 
              oncontextmenu="showContextMenu(event, 'frac'); return false;">
         <em>a</em>/<em>b</em>
      </button>
      <button class="math-button" onclick="sendCommand('superscript')">
         <em>x</em>¬≤
      </button>
      <button class="math-button" onclick="sendCommand('subscript')">
         <em>x</em>‚ÇÇ
      </button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 3 : Symboles math√©matiques (gris) -->
   <div class="button-group">
      <button class="math-button secondary" onclick="sendCommand('leq')">‚â§</button>
      <button class="math-button secondary" onclick="sendCommand('geq')">‚â•</button>
      <button class="math-button secondary" onclick="sendCommand('neq')">‚â†</button>
      <button class="math-button secondary" onclick="sendCommand('approx')">‚âà</button>
      <button class="math-button secondary" onclick="sendCommand('sim')">‚àº</button>
      <button class="math-button secondary" onclick="sendCommand('equiv')">‚â°</button>
   </div>

   <div class="button-group">
      <button class="math-button secondary" 
              onclick="sendCommand('rightarrow')" 
              oncontextmenu="showContextMenu(event, 'rightarrow'); return false;">‚Üí</button>
      <button class="math-button secondary" 
              onclick="sendCommand('leftarrow')" 
              oncontextmenu="showContextMenu(event, 'leftarrow'); return false;">‚Üê</button>
      <button class="math-button secondary" 
              onclick="sendCommand('Rightarrow')" 
              oncontextmenu="showContextMenu(event, 'Rightarrow'); return false;">‚áí</button>
      <button class="math-button secondary" 
              onclick="sendCommand('Leftarrow')" 
              oncontextmenu="showContextMenu(event, 'Leftarrow'); return false;">‚áê</button>
      <button class="math-button secondary" 
              onclick="sendCommand('Leftrightarrow')" 
              oncontextmenu="showContextMenu(event, 'Leftrightarrow'); return false;">‚áî</button>
      <button class="math-button secondary" 
              onclick="sendCommand('mapsto')" 
              oncontextmenu="showContextMenu(event, 'mapsto'); return false;">‚Ü¶</button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 4 : Fonctions math√©matiques (bleu) -->
   <div class="button-group">
      <button class="math-button" 
              onclick="sendCommand('sqrt')" 
              oncontextmenu="showContextMenu(event, 'sqrt'); return false;">
         ‚àö<em>x</em>
      </button>
      <button class="math-button" onclick="sendCommand('sin')">sin</button>
      <button class="math-button" onclick="sendCommand('cos')">cos</button>
      <button class="math-button" onclick="sendCommand('tan')">tan</button>
      <button class="math-button" onclick="sendCommand('ln')">ln</button>
      <button class="math-button" onclick="sendCommand('exp')">exp</button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 5 : Parenth√®ses et matrice (gris) -->
   <div class="button-group">
      <button class="math-button secondary" onclick="sendCommand('left_paren')">( )</button>
      <button class="math-button secondary" onclick="sendCommand('left_bracket')">[&nbsp;]</button>
      <button class="math-button secondary" onclick="sendCommand('left_brace')">{&nbsp;}</button>
      <button class="math-button secondary" onclick="sendCommand('left_abs')">| |</button>
      <button class="math-button secondary" onclick="sendCommand('left_norm')">|| ||</button>
      <button class="math-button secondary" 
              onclick="sendCommand('matrix')" 
              oncontextmenu="showMatrixModal(event); return false;">
         <svg width="20" height="16" viewBox="0 0 20 16" fill="currentColor">
            <!-- Parenth√®ses plus larges -->
            <path d="M2 2 Q1 2 1 8 Q1 14 2 14" stroke="currentColor" fill="none" stroke-width="1.2" />
            <path d="M18 2 Q19 2 19 8 Q19 14 18 14" stroke="currentColor" fill="none" stroke-width="1.2" />
            <!-- √âl√©ments matrice avec espacement vertical am√©lior√© -->
            <text x="7" y="6" font-size="7" text-anchor="middle" fill="currentColor" font-style="italic">a</text>
            <text x="13" y="6" font-size="7" text-anchor="middle" fill="currentColor" font-style="italic">b</text>
            <text x="7" y="13" font-size="7" text-anchor="middle" fill="currentColor" font-style="italic">c</text>
            <text x="13" y="13" font-size="7" text-anchor="middle" fill="currentColor" font-style="italic">d</text>
         </svg>
      </button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 6 : Ensembles de nombres (bleu) -->
   <div class="button-group">
      <button class="math-button" onclick="sendCommand('mathbb_N')">‚Ñï</button>
      <button class="math-button" onclick="sendCommand('mathbb_Z')">‚Ñ§</button>
      <button class="math-button" onclick="sendCommand('mathbb_D')">ùîª</button>
      <button class="math-button" onclick="sendCommand('mathbb_Q')">‚Ñö</button>
      <button class="math-button" onclick="sendCommand('mathbb_R')">‚Ñù</button>
      <button class="math-button" onclick="sendCommand('mathbb_C')">‚ÑÇ</button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 7 : Symboles logiques et ensemblistes (gris) -->
   <div class="button-group">
      <button class="math-button secondary" 
              onclick="sendCommand('in')" 
              oncontextmenu="showContextMenu(event, 'in'); return false;">‚àà</button>
      <button class="math-button secondary" onclick="sendCommand('subset')">‚äÇ</button>
      <button class="math-button secondary" onclick="sendCommand('cup')">‚à™</button>
      <button class="math-button secondary" onclick="sendCommand('cap')">‚à©</button>
      <button class="math-button secondary" onclick="sendCommand('forall')">‚àÄ</button>
      <button class="math-button secondary" onclick="sendCommand('exists')">‚àÉ</button>
   </div>

   <div class="button-group">
      <button class="math-button secondary" onclick="sendCommand('cdot')">¬∑</button>
      <button class="math-button secondary" onclick="sendCommand('dots')">‚Ä¶</button>
      <button class="math-button secondary" onclick="sendCommand('cdots')">‚ãØ</button>
      <button class="math-button secondary" onclick="sendCommand('times')">√ó</button>
      <button class="math-button secondary" onclick="sendCommand('div')">√∑</button>
      <button class="math-button secondary" onclick="sendCommand('pm')">¬±</button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 8 : Vecteurs et texte positionn√© (bleu) -->
   <div class="button-group">
      <button class="math-button" 
              onclick="sendCommand('vec')" 
              oncontextmenu="showContextMenu(event, 'vec'); return false;">
         <svg width="20" height="16" viewBox="0 0 20 16" fill="currentColor">
            <!-- Fl√®che au-dessus de la lettre -->
            <path d="M3 4 L13 4 M11 2 L13 4 L11 6" stroke="currentColor" fill="none" stroke-width="1.2" />
            <!-- Lettre en dessous -->
            <text x="8" y="14" font-size="9" text-anchor="middle" fill="currentColor" font-style="italic">u</text>
         </svg>
      </button>
      <button class="math-button" onclick="sendCommand('widehat')">
         <svg width="20" height="16" viewBox="0 0 20 16" fill="currentColor">
            <!-- Chapeau au-dessus -->
            <path d="M4 5 Q8 2 12 5" stroke="currentColor" fill="none" stroke-width="1.2" />
            <!-- Lettre en dessous -->
            <text x="8" y="14" font-size="9" text-anchor="middle" fill="currentColor" font-style="italic">A</text>
         </svg>
      </button>
      <button class="math-button" onclick="sendCommand('underset')">
         <svg width="20" height="16" viewBox="0 0 20 16" fill="currentColor">
            <!-- Texte principal -->
            <text x="10" y="7" font-size="9" text-anchor="middle" fill="currentColor" font-style="italic">T</text>
            <!-- Texte en dessous -->
            <text x="10" y="13" font-size="6" text-anchor="middle" fill="currentColor">sous</text>
         </svg>
      </button>
      <button class="math-button" onclick="sendCommand('overset')">
         <svg width="20" height="16" viewBox="0 0 20 16" fill="currentColor">
            <!-- Texte en dessus -->
            <text x="10" y="5" font-size="6" text-anchor="middle" fill="currentColor">sur</text>
            <!-- Texte principal -->
            <text x="10" y="13" font-size="9" text-anchor="middle" fill="currentColor" font-style="italic">T</text>
         </svg>
      </button>
   </div>

   <div class="separator"></div>

   <!-- Section Environnements -->
   <h3>Environnements</h3>

   <!-- Bloc 9 : Environnements math (bleu) -->
   <div class="button-group">
      <button class="math-button" onclick="sendCommand('inline_dollar')">&#36;...&#36;</button>
      <button class="math-button" onclick="sendCommand('display_dollar')">&#36;&#36;...&#36;&#36;</button>
      <button class="math-button" onclick="sendCommand('inline')">\(...\)</button>
      <button class="math-button" onclick="sendCommand('display')">\[...\]</button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 10 : Environnements √©quation (gris) -->
   <div class="button-group">
      <button class="math-button secondary" 
              onclick="sendCommand('equation')" 
              oncontextmenu="showContextMenu(event, 'equation'); return false;">
         equation
      </button>
      <button class="math-button secondary" onclick="sendCommand('subequations')">
         subequation
      </button>
      <button class="math-button secondary" onclick="sendCommand('displaystyle')">
         \displaystyle
      </button>
   </div>

   <div class="separator"></div>
   
   <!-- Bloc 11 : Environnements d'alignement (bleu) -->
   <div class="button-group">
      <button class="math-button" onclick="sendCommand('array')"
         oncontextmenu="showContextMenu(event, 'array'); return false;">
         array
      </button>
      <button class="math-button" onclick="sendCommand('align')"
         oncontextmenu="showContextMenu(event, 'align'); return false;">
         align
      </button>
      <button class="math-button" onclick="sendCommand('alignat')"
         oncontextmenu="showContextMenu(event, 'alignat'); return false;">
         alignat
      </button>
      <button class="math-button" onclick="sendCommand('gather')"
         oncontextmenu="showContextMenu(event, 'gather'); return false;">
         gather
      </button>
   </div>

   <div class="separator"></div>

   <!-- Bloc 12 : Environnements d'√©quations sp√©cifiques (gris) -->
   <div class="button-group">
      <button class="math-button secondary" 
              onclick="sendCommand('cases')"
              oncontextmenu="showContextMenu(event, 'cases'); return false;">
         cases
      </button>
      <button class="math-button secondary" onclick="sendCommand('systeme')">
         systeme
      </button>
      <button class="math-button secondary"
              onclick="sendCommand('multline')"
              oncontextmenu="showContextMenu(event, 'multline'); return false;">
         multline
      </button>
      <button class="math-button secondary" onclick="sendCommand('split')">
         split
      </button>
   </div>
</div>